# Getting Started: Subscribing to Alert Data

<br />

This section shows how to configure an alert data subscription job on the EnOS Management Console and use the Java SDK or Python SDK provided by EnOS to consume the alert data.

## Prerequisites

- You are able to access the Data Subscription module.
- The device is connected and is uploading data to EnOS.
- The service account (SA) for subscribing data has been authorized to access asset data.
- You have a workstation with IDE (for Java or Python) installed.

## Goal and Data Preparation

<br />

**Goal**

The goal of this guide is to subscribe to the alert data of the *test_raw* measurement point.

<br />

**Data Preparation**

- Model configuration: The model used in this guide (*testModel*) is configured as follows.

.. list-table::
   :widths: auto
   :header-rows: 1

   * - Feature Type
     - Name
     - Identifier
     - Point Type
     - Data Type
   * - Measurement Point
     - test_raw
     - test_raw
     - AI
     - double

<br />

- Data ingestion: Alert settings are configured for monitoring the data of the *test_raw* measurement point. For information about data ingestion, see [Quick Start: Connecting a Smart Device to EnOS Cloud](/docs/device-connection/en/dev/quickstart/gettingstarted_device_connection.html).
- Alert Configuration: For information about alert configuration for devices, see [Alert Management Overview](/docs/device-connection/en/dev/howto/alert/alert_overview.html).

## Procedure

The steps for subscribing and consuming alert data are as follows.

- Create and configure an alert data subscription job.
- Save and enable the subscription job.
- Get the subscribed data with Java or Python SDK.
- Check the data consumption results.

## Step 1. Create and Configure a Data Subscription Job

Log in to the **EnOS Management Console** and select the **Subscription Service** module. All the subscription jobs created for the current organization are listed in the table. Follow the steps below to create and configure an alert data subscription job.

1. Click the **New Subscription** button and complete the configuration for the job. For this guide, select **Alert Data Subscription** as the type.

2. **ID**: Enter or generate an ID for the subscription job.

3. **SA**: Select an SA account. Each consumer instance must have an associated SA account, which can be generated by registering an application on EnOS. For instructions, see [Registering and Managing Applications](/docs/app-development/en/dev/app_management/managing_apps.html).

   .. note:: The SA account associated with the data subscription job must be authorized to access the asset data. Otherwise, the data subscription job will fail because of authentication failure. For more information about authorizing the SA account, see [Managing Service Accounts](/docs/enos/en/dev/iam/howto/service_account/managing_service_account.html).

4. **Description**: Enter a short description for the data subscription job.

5. **Clients**: Each SA can access the data of multiple clients (through purchasing applications). Select the clients whose data you want to subscribe to.

6. **Model Filter**: Select the model to subscribe to. For this guide, select *testModel*. The subscription system will filter the alert data to meet the specified conditions.

7. **Device Tags** / **Asset Tree Tags** (Optional): You can choose to set device tags or asset tree tags to filter the subscribed data to subscribe only to the alert data of the specified devices or asset trees.

## Step 2. Save and Enable the Subscription Job

After the subscription job is configured, click **Save** to save the configuration. On the **Data Subscription** page, find the created job, and click the **Enable** icon to run the subscription job.

## Step 3. Get Subscribed Data with Java or Python SDK

EnOS provides SDKs (Java and Python) to help you with offline application development and data consumption. The following example is for consuming subscribed data with Java SDK:

- Add [Maven dependency](https://mvnrepository.com/artifact/com.envisioniot/enos-subscribe) for the SDK. See the following example:

```
<dependency>
  <groupId>com.envisioniot</groupId>
  <artifactId>enos-subscribe</artifactId>
  <version>2.5.0</version>
</dependency>
```

<br />

- Use IDE for offline application development. See the following code sample:

```
String sub_server_host ="sub_server_host";
int sub_server_port ="sub_server_port";
String accessKey ="access_Key";
String secretKey ="secret_Key";
String subId = "subscriptionId";
String consumerGroup = "consumerGroup";   /* Optional */

/* service */
EOSClient eosClient = new EOSClient(sub_server_host, sub_server_port, accessKey, secretKey);
IAlertService alertService = eosClient.getAlertService();

/* handler */
IAlertHandler alertHandler = new IAlertHandler(){
    @Override
    public void alertRead(Alert alert) {
        System.out.println(alert);
    }
};

/* subscribe */
alertService.subscribe(alertHandler, subId);

/* (Optional) subscribe with consumer group (optional) */
alertService.subscribe(alertHandler, subId, consumerGroup);
```

.. note:: In this sample, the `sub_server_host` and `sub_server_port` are the host and port of the subscription server, which will vary with the cloud region and instance. For private cloud instances, contact your Envision project manager or support representative to get the host and port information.

<br />

For more information about the SDK, see the [Data Subscription SDK Reference](../reference/data_subscription_sdk).

## Step 4. Check the Data Consumption Results

Run the application for data consumption and check the data consumption results in the logs of the application.
