# Configuring Data Archiving Policy
EnOS supports archiving and storing the data ingested from devices and the data generated by stream processing and provides flexible storage configurations to reduce your data storage costs.
## Creating Data Archiving Policy
For archiving and storing data, you need to create data archiving policies for device measuring points.

1. Log in EnOS console, and select **Data Archiving**.
2. Click **New Policy** and complete the detailed configurations of the data archiving policy.

.. note:: At most 2 data archiving policies can be created for an organization.

### Basic Information

Complete the following basic information of the data archiving policy:

1. Input the **Name** of the policy, where Chinese characters, upper cases and lower cases, numbers, underline (_) are supported, with a length limited of 50 characters.
2. Input the **Description** of policy, with a length limit of 100 characters.

### Storage Configuration

Input the detailed configuration of the data storage, including configuring storage resources, setting properties of the archived file, etc.

1. Select **Resource Type** and specify the target storage system for synchronizing the archived files (only Blob is supported currently).
2. From the **Storage Resource** drop-down list, select the data source that has been registered through [Data Connection](/docs/offline-data/en/latest/data_source/index.html).
3. Input the **Storage Path** where the archive data are located in the storage system and select the time partition format for the storage path root directory. The path must start and end with "/". For detailed information about time partition formats, see [Storage Path Partition Parameters](../../reference/archive_storage).
4. Select whether to generate the path by event time or by system time. For detailed description about how to generate directory by different time, see [Data Archiving Logic](../../reference/archive_storage).
5. Input the **File Name** of the archived file, where upper cases, lower cases, numbers, underline are supported, with a length limit of 50 characters. Once a file is generated, the system will add the time stamp suffix "_UTC" to the file name automatically.
6. Select **File Type**, where only TEXTFILE format (.csv) is supported currently.
7. Select the **Encoding** for archived file, where the default format is UTF-8.
8. Select **Column Delimiter**, where the default delimiter is comma.
9. Select the **Compression** format for the archived file, where the default setting is "not compressed".
10. Select the **File Size** for the archived file, that is, the file size limit before compression. If the size of a file exceeds the upper limit, the system will slice it for storage. The sliced files will be named in the form of  `filename_UTC_n`, where `n` is a positive integer and refers to the serial number of each file.

.. note:: Once the data archiving policy is submitted, the file type, encoding format, column delimiter, and compression format can not be modified.

### Archive Configuration

Select the **Archiving Cycle** for the data archiving policy, Available options are 1 hour, 6 hours, 12 hours, and 24 hours.

It is suggested to select a longer archiving cycle, which is helpful to reduce the number of small files due to data latency. Different archiving cycles mean different scheduled starting time of the data archiving job as well as different data processing time range. The archived data range for each archiving cycle refers to the data generated between "the scheduled starting time for the previous archiving cycle" to "the scheduled starting time for the current archiving cycle". The archiving cycle cannot be modified once the data archiving policy is submitted.

For the scheduled starting time and archived data time range for each archiving cycle, see [Archiving Cycle Configuration](../../reference/archive_storage).

### Data Configuration

1. Select the **Channel** of data to be archived, where only **Real-time Message Channel** is supported currently.
2. Select the **Model** to which the data to be archived belong. Only one data archiving policy can be configured for a model.

After completing the above configuration, click **OK** to submit the data archiving policy. The policy will take effect immediately once it is submitted. If the current data archiving job is not completed in the current archiving cycle, it will restart per the newly-submitted policy.

.. note:: Once a data archiving policy is running, it cannot be stopped manually. To stop archiving data, you can delete the corresponding data archiving policy. Archived files will not be affected when the policy is deleted.

<!--end-->